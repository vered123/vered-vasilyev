let mongoose;_f02‍.x([["findContactByName",()=>findContactByName],["writeContact",()=>writeContact]]);_f02‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);

connectToDB();

const schema = new mongoose.Schema({
    name: String,
    last: String,
    number: Number
});

const ContModel = mongoose.model('contacts', schema);

       let findContactByName = name => ContModel.find({name})

       let writeContact = data => {
    const contact = new ContModel(data)
    return contact.save()
}


function connectToDB(){
    const url = "mongodb://vered1999:vered1999@cluster0-shard-00-00-dpm0t.gcp.mongodb.net:27017,cluster0-shard-00-01-dpm0t.gcp.mongodb.net:27017,cluster0-shard-00-02-dpm0t.gcp.mongodb.net:27017/vereddb?replicaSet=Cluster0-shard-0&ssl=true&authSource=admin";
    mongoose.connect(url, { useNewUrlParser: true });
    const db = mongoose.connection;

    db.on('error', _f02‍.g.console.error.bind(_f02‍.g.console, 'connection error:'));

    db.once('open', () => {
        console.log('we are connected!');
    });
}